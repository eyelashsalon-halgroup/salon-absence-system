# ğŸ“‹ HALã‚µãƒ­ãƒ³äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  - å®Œå…¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ« v12.0

**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ31æ—¥ 22:40 JST  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 12.0  
**ä½œæˆè€…**: Claude + ç¥åŸ è‰¯ç¥

---

## ğŸ“– ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [å®Œäº†æ©Ÿèƒ½ä¸€è¦§](#2-å®Œäº†æ©Ÿèƒ½ä¸€è¦§)
3. [æœªå®Œãƒ»æ®‹èª²é¡Œ](#3-æœªå®Œæ®‹èª²é¡Œ)
4. [ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ](#4-ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ)
5. [ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ](#5-ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ)
6. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#6-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
7. [ãƒªãƒã‚¤ãƒ³ãƒ‰é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ](#7-ãƒªãƒã‚¤ãƒ³ãƒ‰é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ )
8. [ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ](#8-ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ )
9. [ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ã‚·ã‚¹ãƒ†ãƒ ](#9-ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ã‚·ã‚¹ãƒ†ãƒ )
10. [API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§](#10-api-ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§)
11. [é‹ç”¨ãƒ»ç¢ºèªã‚³ãƒãƒ³ãƒ‰](#11-é‹ç”¨ç¢ºèªã‚³ãƒãƒ³ãƒ‰)
12. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#12-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
13. [ç’°å¢ƒå¤‰æ•°ä¸€è¦§](#13-ç’°å¢ƒå¤‰æ•°ä¸€è¦§)
14. [ã‚³ãƒŸãƒƒãƒˆå±¥æ­´](#14-ã‚³ãƒŸãƒƒãƒˆå±¥æ­´)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HAL ã‚µãƒ­ãƒ³äºˆç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ã€è‡ªå‹•å‡¦ç†ãƒ•ãƒ­ãƒ¼ã€‘                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  SalonBoard â”‚â—€â”€â”€â–¶â”‚   Railway   â”‚â—€â”€â”€â–¶â”‚  Supabase   â”‚                     â”‚
â”‚  â”‚  (äºˆç´„æƒ…å ±)  â”‚    â”‚ (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰) â”‚    â”‚ (PostgreSQL) â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                            â”‚                                               â”‚
â”‚                            â–¼                                               â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚                     â”‚  LINE API   â”‚                                        â”‚
â”‚                     â”‚ (é€šçŸ¥é€ä¿¡)   â”‚                                        â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                             â”‚
â”‚  ã€å‡¦ç†ã‚µã‚¤ã‚¯ãƒ«ã€‘                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ [æ¯æ™‚] ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° â†’ ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ â†’ LINEé€šçŸ¥               â”‚       â”‚
â”‚  â”‚ [æ¯æœ9:00] ãƒªãƒã‚¤ãƒ³ãƒ‰é€ä¿¡ï¼ˆ3æ—¥å‰ãƒ»7æ—¥å‰ï¼‰                        â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                             â”‚
â”‚  ã€é¡§å®¢æ“ä½œã€‘                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  ã‚¹ãƒãƒ›     â”‚â”€â”€â”€â–¶â”‚  LINE LIFF  â”‚â”€â”€â”€â–¶â”‚  äºˆç´„ç¢ºèª   â”‚                     â”‚
â”‚  â”‚  (é¡§å®¢)     â”‚    â”‚             â”‚    â”‚  å¤‰æ›´/å–æ¶ˆ  â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»è¦æ©Ÿèƒ½

| æ©Ÿèƒ½ | èª¬æ˜ | çŠ¶æ…‹ |
|------|------|------|
| äºˆç´„ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° | SalonBoardã‹ã‚‰8é€±é–“åˆ†ã®äºˆç´„ã‚’è‡ªå‹•å–å¾— | âœ… ç¨¼åƒä¸­ |
| ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ | äºˆç´„ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œçŸ¥ãƒ»LINEé€šçŸ¥ | âœ… ç¨¼åƒä¸­ |
| ãƒªãƒã‚¤ãƒ³ãƒ‰é€šçŸ¥ | 3æ—¥å‰ãƒ»7æ—¥å‰ã«é¡§å®¢ã¸LINEé€šçŸ¥ | âœ… **æœ¬ç•ªç¨¼åƒä¸­** |
| LIFFäºˆç´„ç¢ºèª | é¡§å®¢ãŒLINEã‹ã‚‰äºˆç´„ç¢ºèªãƒ»å¤‰æ›´ãƒ»å–æ¶ˆ | âœ… ç¨¼åƒä¸­ |
| ç®¡ç†ç”»é¢ | ã‚¹ã‚¿ãƒƒãƒ•ç”¨ã®äºˆç´„ãƒ»é¡§å®¢ç®¡ç†ç”»é¢ | âœ… ç¨¼åƒä¸­ |

---

## 2. å®Œäº†æ©Ÿèƒ½ä¸€è¦§

### âœ… 2026å¹´1æœˆ31æ—¥ å®Œäº†

| æ©Ÿèƒ½ | èª¬æ˜ | ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œ |
|------|------|----------|-----|
| ãƒªãƒã‚¤ãƒ³ãƒ‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç©ºè¡Œä¿®æ­£ | 3æ—¥å‰ãƒ»7æ—¥å‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç©ºè¡Œå•é¡Œè§£æ±º | auth_notification_system.py | 3026-3035 |
| æ™‚é–“ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£ | 09:00â†’9:00 å½¢å¼ã«çµ±ä¸€ | auth_notification_system.py | 2958 |
| 3æ—¥å‰æœ¬ç•ªé€ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | `/api/reminder_send_3days` è¿½åŠ  | auth_notification_system.py | 2862 |
| 7æ—¥å‰æœ¬ç•ªé€ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | `/api/reminder_send_7days` è¿½åŠ  | auth_notification_system.py | 2856 |
| LINEé€ä¿¡é–“éš”è¿½åŠ  | ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–ã§3ç§’é–“éš” | auth_notification_system.py | 3116 |
| é€ä¿¡å¤±æ•—é€šçŸ¥ | å¤±æ•—æ™‚ã‚‚ç¥åŸè‰¯ç¥ã«LINEé€šçŸ¥ | auth_notification_system.py | 3118-3121 |

### âœ… 2026å¹´1æœˆä¸­æ—¬ å®Œäº†

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| HALã‚­ãƒ£ãƒ³ã‚»ãƒ«æ©Ÿèƒ½ | ã‚­ãƒ£ãƒ³ã‚»ãƒ«å„ªå…ˆã‚¹ã‚­ãƒƒãƒ—ã€ãƒªãƒˆãƒ©ã‚¤30ç§’å¾Œã€äºˆç´„ç•ªå·ãƒãƒƒãƒãƒ³ã‚° |
| ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å¤‰æ›´ | æ—¥æ¬¡â†’æ¯æ™‚ï¼ˆ7-23æ™‚JSTï¼‰ |
| ãƒªãƒã‚¤ãƒ³ãƒ‰é–¢æ•°ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | target_days, force_recipient ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¿½åŠ  |
| scrape_8weeks_v4.py | ä¸¦åˆ—ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æœ€æ–°ç‰ˆ |

### âœ… 2026å¹´1æœˆ7-8æ—¥ å®Œäº†

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| RLSæœ‰åŠ¹åŒ– | å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã§Row Level Securityæœ‰åŠ¹åŒ– |
| service_roleã‚­ãƒ¼ç§»è¡Œ | anonâ†’service_roleï¼ˆJWTå½¢å¼ï¼‰ã«å¤‰æ›´ |
| salon_staffæ‹¡å¼µ | receive_notification, line_idã‚«ãƒ©ãƒ è¿½åŠ  |
| LINEé€šçŸ¥å…ˆä¸€å…ƒåŒ– | salon_staffãƒ†ãƒ¼ãƒ–ãƒ«ã§ç®¡ç† |

---

## 3. æœªå®Œãƒ»æ®‹èª²é¡Œ

### ğŸ”´ é«˜å„ªå…ˆåº¦

| å•é¡Œ | çŠ¶æ…‹ | è©³ç´° | ä¿®æ­£æ–¹æ³• |
|------|------|------|----------|
| ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°menuç©ºå•é¡Œ | âš ï¸ æœªä¿®æ­£ | BEã§å§‹ã¾ã‚‹booking_idï¼ˆãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼çµŒç”±ï¼‰ã§menuãŒç©º | è©³ç´°ãƒšãƒ¼ã‚¸å–å¾—ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£ |
| staff_on_dutyå–å¾—å•é¡Œ | âš ï¸ è¦èª¿æŸ» | ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã§æ­£ã—ãå–å¾—ã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ | scrape_8weeks_v4.pyèª¿æŸ» |

**menuç©ºå•é¡Œã®è©³ç´°:**
```
ã€å½±éŸ¿ã‚’å—ã‘ã‚‹äºˆç´„ã€‘
- booking_id: BE30114628ï¼ˆãã‚€ ã˜ã¿ã‚“ï¼‰ â†’ menu=""
- booking_id: BE18626491ï¼ˆæ–°ç”° èœä¿å­ï¼‰ â†’ menu=""

ã€æ­£å¸¸ãªäºˆç´„ã€‘
- booking_id: YF***ï¼ˆä»–ã®é¡§å®¢ï¼‰ â†’ menu="ã€æ¬¡å›ã€‘..."

ã€æ¨å®šåŸå› ã€‘
- BEã§å§‹ã¾ã‚‹äºˆç´„ã¯ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼çµŒç”±
- è©³ç´°ãƒšãƒ¼ã‚¸ã®HTMLæ§‹é€ ãŒç•°ãªã‚‹å¯èƒ½æ€§
```

**ç¢ºèªã‚³ãƒãƒ³ãƒ‰:**
```bash
curl -s "https://lsrbeugmqqqklywmvjjs.supabase.co/rest/v1/8weeks_bookings?menu=eq.&select=booking_id,customer_name,menu,booking_source" \
  -H "apikey: YOUR_KEY" -H "Authorization: Bearer YOUR_KEY"
```

### ğŸŸ¡ ä¸­å„ªå…ˆåº¦

| å•é¡Œ | çŠ¶æ…‹ | è©³ç´° |
|------|------|------|
| ãƒ¡ãƒ‹ãƒ¥ãƒ¼é‡‘é¡åŒæœŸï¼ˆæ¯æ™©21æ™‚ï¼‰ | â¸ï¸ æœªå®Ÿè£… | SalonBoardãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ DBåŒæœŸ |
| ç©ºãæ å¤‰æ›´é€šçŸ¥ | â¸ï¸ æœªå®Ÿè£… | ç©ºãæ å¢—åŠ æ™‚ã«é¡§å®¢ã¸é€šçŸ¥ |
| é¡§å®¢LINE IDè‡ªå‹•ç´ä»˜ã‘ | â¸ï¸ æ‰‹å‹• | åˆå›äºˆç´„æ™‚ã«è‡ªå‹•ãƒãƒƒãƒãƒ³ã‚° |

### ğŸŸ¢ ä½å„ªå…ˆåº¦

| å•é¡Œ | çŠ¶æ…‹ | è©³ç´° |
|------|------|------|
| Railwayåœæ­¢é€šçŸ¥ | â¸ï¸ æœªå®Ÿè£… | Railwayãƒ€ã‚¦ãƒ³æ™‚ã«ç¥åŸè‰¯ç¥ã¸LINEé€šçŸ¥ |

---

## 4. ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ

### Railwayï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

| é …ç›® | å€¤ |
|------|-----|
| ã‚µãƒ¼ãƒ“ã‚¹å | salon-absence-system |
| URL | https://salon-absence-system-production.up.railway.app |
| è¨€èª | Python 3.10 |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Flask + Gunicorn |
| ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ | APScheduler |
| ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ« | auth_notification_system.py (5200è¡Œè¶…) |

### Supabaseï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰

| é …ç›® | å€¤ |
|------|-----|
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID | lsrbeugmqqqklywmvjjs |
| URL | https://lsrbeugmqqqklywmvjjs.supabase.co |
| RLS | å…¨ãƒ†ãƒ¼ãƒ–ãƒ«æœ‰åŠ¹ |
| APIã‚­ãƒ¼ | service_roleï¼ˆJWTå½¢å¼ï¼‰ |

### LINE Messaging API

| é …ç›® | å€¤ |
|------|-----|
| ç”¨é€” | é¡§å®¢ãƒ»ã‚¹ã‚¿ãƒƒãƒ•ã¸ã®é€šçŸ¥é€ä¿¡ |
| LIFF ID | 2006629229-Y8lb2daA |
| LIFF URL | https://liff.line.me/2006629229-Y8lb2daA |

### SalonBoard

| é …ç›® | å€¤ |
|------|-----|
| ç”¨é€” | äºˆç´„ãƒ‡ãƒ¼ã‚¿ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å…ƒ |
| ãƒ­ã‚°ã‚¤ãƒ³ID | CD18317 |
| ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°é–“éš” | æ¯æ™‚ï¼ˆ7-23æ™‚JSTï¼‰ |

---

## 5. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
~/salon-absence-system/
â”œâ”€â”€ auth_notification_system.py    # â˜…ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªï¼ˆFlask APIå…¨ã¦ï¼‰5200è¡Œè¶…
â”œâ”€â”€ scrape_8weeks_v4.py            # â˜…8é€±é–“ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ï¼ˆæœ€æ–°ç‰ˆï¼‰
â”œâ”€â”€ cancel_booking.py              # ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ãƒ»é€šçŸ¥
â”œâ”€â”€ templates/                     # HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ admin.html                 # ç®¡ç†ç”»é¢
â”‚   â”œâ”€â”€ customers.html             # é¡§å®¢ä¸€è¦§
â”‚   â”œâ”€â”€ absences.html              # ã‚¹ã‚¿ãƒƒãƒ•æ¬ å‹¤ç®¡ç†
â”‚   â””â”€â”€ login.html                 # ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢
â”œâ”€â”€ MANUAL_v11.md                  # ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ REMINDER_MANUAL.md             # ãƒªãƒã‚¤ãƒ³ãƒ‰æ©Ÿèƒ½ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆ
â”œâ”€â”€ SYSTEM_OVERVIEW.md             # ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦
â”œâ”€â”€ .env                           # ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç”¨ï¼‰
â””â”€â”€ requirements.txt               # Pythonä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
```

---

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§

| ãƒ†ãƒ¼ãƒ–ãƒ« | ç”¨é€” | ä¸»è¦ã‚«ãƒ©ãƒ  |
|---------|------|-----------|
| `8weeks_bookings` | 8é€±é–“åˆ†ã®äºˆç´„ãƒ‡ãƒ¼ã‚¿ | booking_id, customer_name, phone, visit_datetime, menu, staff, is_designated, staff_on_duty |
| `customers` | é¡§å®¢ãƒã‚¹ã‚¿ | name, phone, line_user_id |
| `reminder_logs` | ãƒªãƒã‚¤ãƒ³ãƒ‰é€ä¿¡å±¥æ­´ | phone, customer_name, days_ahead, status, sent_at |
| `available_slots` | ç©ºãæ ãƒ‡ãƒ¼ã‚¿ | date, staff, time_slot |
| `salon_staff` | ã‚¹ã‚¿ãƒƒãƒ•ãƒã‚¹ã‚¿ | name, active, line_user_id, receive_notification |
| `salon_menus` | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒã‚¹ã‚¿ | name, price, duration |

### 8weeks_bookings ãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ | ä¾‹ |
|--------|-----|------|-----|
| booking_id | TEXT | äºˆç´„IDï¼ˆPKï¼‰ | YF63583013, BE30114628 |
| customer_name | TEXT | é¡§å®¢å | ä½è—¤ èŒ |
| phone | TEXT | é›»è©±ç•ªå· | 09012345678 |
| visit_datetime | TEXT | æ¥åº—æ—¥æ™‚ | 2026-02-03 15:50:00 |
| menu | TEXT | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | ã€æ¬¡å›ã€‘â—‡ï¼“Dãƒ–ãƒ­ã‚¦ãƒ¯ãƒƒã‚¯ã‚¹â—‡... |
| staff | TEXT | æ‹…å½“ã‚¹ã‚¿ãƒƒãƒ• | ä¸­æ—é¦™ç¹” |
| is_designated | BOOLEAN | æŒ‡åæœ‰ç„¡ | true/false |
| staff_on_duty | BOOLEAN | ã‚¹ã‚¿ãƒƒãƒ•å‡ºå‹¤æœ‰ç„¡ | true/false |
| booking_source | TEXT | äºˆç´„çµŒè·¯ | æ¬¡å›, ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼ |

### customers ãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ | ä¾‹ |
|--------|-----|------|-----|
| id | UUID | é¡§å®¢IDï¼ˆPKï¼‰ | 1f247d93-... |
| name | TEXT | é¡§å®¢å | å¥½ç”° åƒä½³å­ |
| phone | TEXT | é›»è©±ç•ªå· | 09092723014 |
| line_user_id | TEXT | LINE User ID | U72f553496... |

### reminder_logs ãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ | ä¾‹ |
|--------|-----|------|-----|
| phone | TEXT | é›»è©±ç•ªå· | 09012345678 |
| customer_name | TEXT | é¡§å®¢å | ä½è—¤ èŒ |
| days_ahead | INTEGER | ä½•æ—¥å‰ | 3, 7 |
| status | TEXT | é€ä¿¡çµæœ | sent, failed |
| sent_at | TIMESTAMP | é€ä¿¡æ—¥æ™‚ | 2026-01-31T08:28:40 |

### salon_staffï¼ˆé€šçŸ¥å…ˆä¸€å…ƒç®¡ç†ï¼‰

| ID | åå‰ | receive_notification | LINE ID |
|----|------|---------------------|---------|
| 1 | ä¸­æ—ã€€é¦™ç¹” | false | - |
| 2 | å¤ªç”°ã€€ç”±é¦™åˆ© | true | U2c097f177a2c... |
| 3 | ç¥åŸè‰¯ç¥ | true | U9022782f0552... |
| 4 | testæ²™ç¹” | true | U1d1dfe1993f1... |
| 5 | HALæœ¬åº—ï¼‘ | true | Ude9ef7ceb8f0... |

---

## 7. ãƒªãƒã‚¤ãƒ³ãƒ‰é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 

### å‡¦ç†ãƒ•ãƒ­ãƒ¼

```
ã€æ¯æœ9:00 JSTã€‘
1. send_reminder_notifications() å®Ÿè¡Œ
2. 3æ—¥å¾Œãƒ»7æ—¥å¾Œã®äºˆç´„ã‚’8weeks_bookingsã‹ã‚‰å–å¾—
3. å„äºˆç´„ã«ã¤ã„ã¦:
   a. customersãƒ†ãƒ¼ãƒ–ãƒ«ã§é¡§å®¢æ¤œç´¢ï¼ˆé›»è©±ç•ªå· or åå‰ï¼‰
   b. line_user_idãŒå­˜åœ¨ã™ã‚Œã°é€ä¿¡å¯¾è±¡
   c. reminder_logsã§é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆåŒæ—¥åŒé¡§å®¢ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
   d. LINEé€ä¿¡
   e. 3ç§’å¾…æ©Ÿï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–ï¼‰
   f. reminder_logsã«è¨˜éŒ²
   g. ã‚¹ã‚¿ãƒƒãƒ•ã«ã‚‚é€šçŸ¥ï¼ˆæˆåŠŸãƒ»å¤±æ•—ä¸¡æ–¹ï¼‰
```

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼

**7æ—¥å‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆäºˆç´„å»¶æœŸä¿ƒé€²ï¼‰:**
```
{é¡§å®¢å} æ§˜
ã”äºˆç´„æ—¥ã€7æ—¥å‰ã€‘ã®ãŠçŸ¥ã‚‰ã›ğŸ•Šï¸
{æœˆ}æœˆ{æ—¥}æ—¥({æ›œæ—¥}){æ™‚é–“}ã€œ
{ãƒ¡ãƒ‹ãƒ¥ãƒ¼}
{æ‹…å½“ï¼šã‚¹ã‚¿ãƒƒãƒ•åï¼ˆæŒ‡åæ–™ï¿¥300ï¼‰}  â† æŒ‡åæ™‚ã®ã¿

ã€Œãƒãƒ„ã‚¨ã‚¯ãŒæ®‹ã£ã¦ã„ã‚‹ã€
ã€Œã‚«ãƒ¼ãƒ«ãŒæ®‹ã£ã¦ã„ã‚‹ã€
ã€Œçœ‰æ¯›ã®æ‰‹å…¥ã‚Œã‚’ã—ãŸâ€¦ã€
ã€Œä»•äº‹ãŒå…¥ã£ãŸã€
ãªã©ã€ã”äºˆç´„æ—¥å»¶æœŸã¯ã€ãŠæ—©ã‚ã«ã”å”åŠ›ã‚’ãŠé¡˜ã„ã—ã¾ã™âœ¨
...
```

**3æ—¥å‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ³¨æ„äº‹é …ï¼‰:**
```
{é¡§å®¢å} æ§˜
ã”äºˆç´„ã€3æ—¥å‰ã€‘ã®ãŠçŸ¥ã‚‰ã›ğŸ•Šï¸
ã€æœ¬åº—ã€‘
{æœˆ}æœˆ{æ—¥}æ—¥({æ›œæ—¥}){æ™‚é–“}ã€œ
{ãƒ¡ãƒ‹ãƒ¥ãƒ¼}
{æ‹…å½“ï¼šã‚¹ã‚¿ãƒƒãƒ•åï¼ˆæŒ‡åæ–™ï¿¥300ï¼‰}  â† æŒ‡åæ™‚ã®ã¿

ä¸‹è¨˜ã¯ã™ã¹ã¦ã®ãŠå®¢æ§˜ã«æ°—æŒã¡ã‚ˆãã”åˆ©ç”¨ã„ãŸã ããŸã‚ã®ã”æ¡ˆå†…ã§ã™ã€‚
...
```

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ç”¨é€” |
|---------------|------|
| `/api/reminder_test_3days` | 3æ—¥å‰ãƒ†ã‚¹ãƒˆé€ä¿¡ï¼ˆç¥åŸè‰¯ç¥ã®ã¿ï¼‰ |
| `/api/reminder_test_7days` | 7æ—¥å‰ãƒ†ã‚¹ãƒˆé€ä¿¡ï¼ˆç¥åŸè‰¯ç¥ã®ã¿ï¼‰ |
| `/api/reminder_send_3days` | 3æ—¥å‰æœ¬ç•ªé€ä¿¡ï¼ˆå…¨å“¡ï¼‰ |
| `/api/reminder_send_7days` | 7æ—¥å‰æœ¬ç•ªé€ä¿¡ï¼ˆå…¨å“¡ï¼‰ |

### é–¢é€£ã‚³ãƒ¼ãƒ‰ï¼ˆauth_notification_system.pyï¼‰

| å‡¦ç† | è¡Œç•ªå· |
|------|--------|
| send_reminder_notifications() å®šç¾© | 2867 |
| format_dt() æ™‚é–“ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | 2950-2970 |
| clean_menu() ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— | 2973-3000 |
| 3æ—¥å‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸çµ„ç«‹ | 3026-3050 |
| 7æ—¥å‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸çµ„ç«‹ | 3051-3075 |
| LINEé€ä¿¡ + 3ç§’å¾…æ©Ÿ | 3100-3120 |

---

## 8. ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 

### ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

| ç¨®é¡ | é–“éš” | å¯¾è±¡æ—¥æ•° | Cronï¼ˆUTCï¼‰ |
|------|------|---------|-------------|
| é€šå¸¸ç‰ˆ | æ¯æ™‚ | 56æ—¥ | `hour='22-23,0-14'` (7-23æ™‚JST) |

### å‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼ˆscrape_8weeks_v4.pyï¼‰

```
1. SalonBoardã«ãƒ­ã‚°ã‚¤ãƒ³
2. äºˆç´„ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’å–å¾—
3. å„æ—¥ä»˜ã®äºˆç´„ã‚’æŠ½å‡º:
   - æ™‚é–“ã€é¡§å®¢åã€é›»è©±ç•ªå·ã€ã‚¹ã‚¿ãƒƒãƒ•ã€æŒ‡åæœ‰ç„¡
4. è©³ç´°ãŒå¿…è¦ãªäºˆç´„ï¼ˆé›»è©±ç•ªå·ãƒ»ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãªã—ï¼‰:
   - è©³ç´°ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
   - é›»è©±ç•ªå·ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€äºˆç´„çµŒè·¯ã‚’å–å¾—
5. 8weeks_bookingsãƒ†ãƒ¼ãƒ–ãƒ«ã«Upsert
6. ç©ºãæ æƒ…å ±ã‚’available_slotsã«ä¿å­˜
```

### booking_idå½¢å¼

| ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ | äºˆç´„çµŒè·¯ | ä¾‹ |
|---------------|---------|-----|
| YF | æ¬¡å›äºˆç´„ï¼ˆåº—èˆ—ï¼‰ | YF63583013 |
| BE | ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼ | BE30114628 |

---

## 9. ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ã‚·ã‚¹ãƒ†ãƒ 

### å‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼ˆcancel_booking.pyï¼‰

```
[ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Œäº†å¾Œ]
1. å‰å›ã¨ä»Šå›ã®booking_idæ¯”è¼ƒ
2. æ¶ˆãˆãŸäºˆç´„ = ã‚­ãƒ£ãƒ³ã‚»ãƒ«
3. ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç¢ºå®šåˆ¤å®š:
   - 30ç§’å¾Œã«å†ç¢ºèªï¼ˆãƒªãƒˆãƒ©ã‚¤ï¼‰
   - äºˆç´„ç•ªå·ãƒãƒƒãƒãƒ³ã‚°
4. ã‚¹ã‚¿ãƒƒãƒ•LINEé€šçŸ¥
```

### é€šçŸ¥å…ˆLINE ID

| ã‚¹ã‚¿ãƒƒãƒ• | LINE User ID |
|---------|-------------|
| ç¥åŸè‰¯ç¥ | U9022782f05526cf7632902acaed0cb08 |
| ç¥åŸèŒ‰è¡£ | U1d1dfe1993f1857327678e37b607187a |
| å¤ªç”°ç”±é¦™åˆ© | U2c097f177a2c96b0732f6d15152d0d68 |
| HALæœ¬åº—1 | Ude9ef7ceb8f04d2e7a207aabec5591c5 |

---

## 10. API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

### ãƒªãƒã‚¤ãƒ³ãƒ‰é–¢é€£

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/api/reminder_test_3days` | GET | 3æ—¥å‰ãƒ†ã‚¹ãƒˆé€ä¿¡ï¼ˆç¥åŸè‰¯ç¥ã®ã¿ï¼‰ |
| `/api/reminder_test_7days` | GET | 7æ—¥å‰ãƒ†ã‚¹ãƒˆé€ä¿¡ï¼ˆç¥åŸè‰¯ç¥ã®ã¿ï¼‰ |
| `/api/reminder_send_3days` | GET | 3æ—¥å‰æœ¬ç•ªé€ä¿¡ï¼ˆå…¨å“¡ï¼‰ |
| `/api/reminder_send_7days` | GET | 7æ—¥å‰æœ¬ç•ªé€ä¿¡ï¼ˆå…¨å“¡ï¼‰ |

### ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°é–¢é€£

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/api/scrape_8weeks_v4` | GET/POST | 8é€±é–“ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° |
| `/api/scrape_8weeks_v4?days_limit=14` | GET/POST | é«˜é€Ÿç‰ˆï¼ˆ14æ—¥ï¼‰ |
| `/api/cancel-detection` | POST | ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ |

### LIFFé–¢é€£

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/liff/booking` | GET | äºˆç´„ç¢ºèªç”»é¢ |
| `/liff/reschedule` | GET | æ—¥æ™‚å¤‰æ›´ç”»é¢ |
| `/liff/cancel` | POST | ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç† |

### ç®¡ç†é–¢é€£

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/admin` | GET | ç®¡ç†ç”»é¢ |
| `/api/customers` | GET | é¡§å®¢ä¸€è¦§ |
| `/api/staff` | GET | ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§ |
| `/health_check` | GET | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ |

---

## 11. é‹ç”¨ãƒ»ç¢ºèªã‚³ãƒãƒ³ãƒ‰

### ãƒªãƒã‚¤ãƒ³ãƒ‰é€ä¿¡ç¢ºèª

```bash
# 3æ—¥å¾Œã®äºˆç´„ç¢ºèª
curl -s "https://lsrbeugmqqqklywmvjjs.supabase.co/rest/v1/8weeks_bookings?visit_datetime=like.$(date -v+3d +%Y-%m-%d)*&select=customer_name,phone,menu" \
  -H "apikey: YOUR_KEY" -H "Authorization: Bearer YOUR_KEY"

# ä»Šæ—¥ã®é€ä¿¡ãƒ­ã‚°ç¢ºèª
curl -s "https://lsrbeugmqqqklywmvjjs.supabase.co/rest/v1/reminder_logs?sent_at=gte.$(date +%Y-%m-%d)T00:00:00&select=customer_name,days_ahead,status,sent_at" \
  -H "apikey: YOUR_KEY" -H "Authorization: Bearer YOUR_KEY"

# é€ä¿¡ãƒ­ã‚°å‰Šé™¤ï¼ˆå†é€ä¿¡ç”¨ï¼‰
curl -X DELETE "https://lsrbeugmqqqklywmvjjs.supabase.co/rest/v1/reminder_logs?days_ahead=eq.3&sent_at=gte.$(date +%Y-%m-%d)T00:00:00" \
  -H "apikey: YOUR_KEY" -H "Authorization: Bearer YOUR_KEY"
```

### LINEç™»éŒ²çŠ¶æ³ç¢ºèª

```bash
# ç‰¹å®šé¡§å®¢ã®LINEç™»éŒ²ç¢ºèª
curl -s "https://lsrbeugmqqqklywmvjjs.supabase.co/rest/v1/customers?phone=eq.09012345678&select=name,phone,line_user_id" \
  -H "apikey: YOUR_KEY" -H "Authorization: Bearer YOUR_KEY"
```

### Railwayãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```bash
curl -s "https://salon-absence-system-production.up.railway.app/health_check"
```

### ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
git add -A && git commit -m "å¤‰æ›´å†…å®¹" && git push origin main

# æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
python3 -m py_compile auth_notification_system.py && echo "æ§‹æ–‡OK"
```

---

## 12. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ãƒªãƒã‚¤ãƒ³ãƒ‰ãŒé€ä¿¡ã•ã‚Œãªã„

**ç¢ºèªæ‰‹é †:**
1. reminder_logsã«æ—¢ã«é€ä¿¡æ¸ˆã¿ã‹ç¢ºèª
2. customersãƒ†ãƒ¼ãƒ–ãƒ«ã§LINE IDç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. 8weeks_bookingsã«äºˆç´„ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª

**è§£æ±º:**
```bash
# ãƒ­ã‚°å‰Šé™¤ã—ã¦å†é€ä¿¡
curl -X DELETE "...reminder_logs..." && curl ".../api/reminder_send_3days"
```

### å•é¡Œ2: LINEé€ä¿¡å¤±æ•—ï¼ˆstatus=failedï¼‰

**åŸå› å€™è£œ:**
- LINE APIãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ429ï¼‰
- ä¸€æ™‚çš„ãªã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ï¼ˆ500ï¼‰
- é¡§å®¢ãŒLINEãƒ–ãƒ­ãƒƒã‚¯

**å¯¾ç­–ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰:**
- é€ä¿¡é–“éš”3ç§’ï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–ï¼‰
- 3å›ãƒªãƒˆãƒ©ã‚¤ï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰
- å¤±æ•—æ™‚ã‚‚ç¥åŸè‰¯ç¥ã«é€šçŸ¥

### å•é¡Œ3: menuãŒç©º

**åŸå› :**
- booking_idãŒBEã§å§‹ã¾ã‚‹äºˆç´„ï¼ˆãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼çµŒç”±ï¼‰
- è©³ç´°ãƒšãƒ¼ã‚¸ã®HTMLæ§‹é€ ãŒç•°ãªã‚‹

**ç¢ºèª:**
```bash
curl -s "...8weeks_bookings?menu=eq.&select=booking_id,customer_name"
```

### å•é¡Œ4: Railwayãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã‚‚å¤ã„å‹•ä½œ

**è§£æ±º:**
- ç©ºã‚³ãƒŸãƒƒãƒˆã§ãƒ‡ãƒ—ãƒ­ã‚¤ãƒˆãƒªã‚¬ãƒ¼
```bash
git commit --allow-empty -m "Trigger deploy" && git push origin main
```

---

## 13. ç’°å¢ƒå¤‰æ•°ä¸€è¦§

### Railwayè¨­å®š

```
SUPABASE_URL=https://lsrbeugmqqqklywmvjjs.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIs...ï¼ˆservice_role keyï¼‰
LINE_CHANNEL_ACCESS_TOKEN=xxx
LINE_CHANNEL_SECRET=xxx
LINE_CHANNEL_ACCESS_TOKEN_STAFF=xxxï¼ˆã‚¹ã‚¿ãƒƒãƒ•ç”¨ï¼‰
LIFF_ID=2006629229-Y8lb2daA
SALONBOARD_LOGIN_ID=CD18317
SALONBOARD_LOGIN_PASSWORD=xxx
GOOGLE_CLIENT_ID=xxx
GOOGLE_CLIENT_SECRET=xxx
SECRET_KEY=xxx
```

---

## 14. ã‚³ãƒŸãƒƒãƒˆå±¥æ­´

### 2026å¹´1æœˆ31æ—¥

| ãƒãƒƒã‚·ãƒ¥ | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | å†…å®¹ |
|----------|----------|------|
| d04962f | Add 3s delay between LINE sends and notify on failure | LINEé€ä¿¡é–“éš”3ç§’ã€å¤±æ•—é€šçŸ¥è¿½åŠ  |
| b704869 | Add reminder_send_3days endpoint | 3æ—¥å‰æœ¬ç•ªé€ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ |
| bfa072e | Add reminder_send_7days endpoint for production | 7æ—¥å‰æœ¬ç•ªé€ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ |
| 949c023 | Fix: remove extra blank lines in 3days message | 3æ—¥å‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç©ºè¡Œä¿®æ­£ |
| ab84083 | Fix: 3days message spacing same as 7days | ç©ºè¡Œãƒ­ã‚¸ãƒƒã‚¯çµ±ä¸€ |
| e64cf56 | Fix: 3days message spacing, time format 09:00->9:00 | æ™‚é–“ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£ |

---

## é–¢é€£ãƒªãƒ³ã‚¯

| ã‚µãƒ¼ãƒ“ã‚¹ | URL |
|----------|-----|
| Railway | https://railway.app |
| Supabase | https://supabase.com/dashboard/project/lsrbeugmqqqklywmvjjs |
| GitHub | https://github.com/eyelashsalon-halgroup/salon-absence-system |
| LINE Developers | https://developers.line.biz |

---

**ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/eyelashsalon-halgroup/salon-absence-system  
**æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆ**: d04962f  
**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆæ—¥**: 2026å¹´1æœˆ31æ—¥
